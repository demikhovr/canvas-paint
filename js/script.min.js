"use strict";!function(){var e=document.querySelector(".settings__line-form"),t=e.querySelectorAll(".setting"),o=e.querySelector(".setting--number-width"),n=e.querySelector(".setting--select-width"),r=e.querySelector(".setting--random-width"),i=e.querySelector(".setting--color"),a=e.querySelector(".setting--rainbow"),s=document.querySelector("#draw");s.width=window.innerWidth,s.height=window.innerHeight-s.offsetTop;var l=s.getContext("2d"),d=0,u=!1,c=!1,f=!0,h=0,v=0,m={lineWidth:["25","50","100","150"],strokeStyle:["#3498db"],lineCap:["round","square","butt"],globalCompositeOperation:["source-over","lighter","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]};function g(e){l.beginPath(),l.moveTo(e.offsetX,e.offsetY),l.lineTo(e.offsetX,e.offsetY),l.stroke();var t=[e.offsetX,e.offsetY];h=t[0],v=t[1],s.addEventListener("mousemove",w)}function p(){s.removeEventListener("mousemove",w)}function w(e){l.strokeStyle=u?"hsl("+d+", 100%, 50%)":i.value,c?((100<=l.lineWidth||l.lineWidth<=1)&&(f=!f),f?l.lineWidth++:l.lineWidth--):l.lineWidth=o.value,l.beginPath(),l.moveTo(h,v),l.lineTo(e.offsetX,e.offsetY),l.stroke();var t=[e.offsetX,e.offsetY];h=t[0],v=t[1],d++}Array.from(t).forEach(function(e){var t,o,n=e.dataset.param;switch(e.tagName.toLowerCase()){case"select":e.appendChild((t=n,o=document.createDocumentFragment(),m[t].forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=""+e[0].toUpperCase()+e.slice(1),o.appendChild(t)}),o));break;case"input":e.value=m[n][0]}l[n]=e.value}),e.addEventListener("change",function(e){l[e.target.dataset.param]=e.target.value,"select"===e.target.tagName.toLowerCase()&&(o.value=e.target.value);e.target===a&&(u=a.checked);e.target===r&&(c=r.checked);i.disabled=u,n.disabled=c,o.disabled=c}),s.addEventListener("mousedown",g),s.addEventListener("mouseup",p),s.addEventListener("mouseout",p),s.addEventListener("touchstart",function(e){e.preventDefault(),s.addEventListener("touchmove",drawline)})}();